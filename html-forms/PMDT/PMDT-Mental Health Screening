<htmlform>
		<!-- Autogenerated example form  (template from 01-Nov-2010 -->
		<macros>
			paperFormId = (Fill this in)
			headerColor =#009d8e
			fontOnHeaderColor = white
		</macros>

		<style>
			.section {
				border: 1px solid $headerColor;
				padding: 2px;
				text-align: left;
				margin-bottom: 1em;
			}
			.sectionHeader {
				background-color: $headerColor;
				color: $fontOnHeaderColor;
				display: block;
				padding: 2px;
				font-weight: bold;
			}
			table.baseline-aligned td {
				vertical-align: baseline;
			}
		</style>

		<h2>Mental Health Screening</h2>

		<section headerLabel="Encounter Details">
			<table class="baseline-aligned">
			<tr>
				<td>Date:</td>
				<td><encounterDate default="today"/></td>
			</tr>
			<tr>
				<td>Location:</td>
				<td><encounterLocation id="encounter_location" default="2"  tags="PMDT" /></td>
			</tr>
			<tr>
				<td>Provider:</td>
				<td><encounterProvider default="currentUser" type="autocomplete"/></td>
			</tr>
			</table>
		</section>

		<section headerLabel="Mental Health Screening - AKUADS">
			<table class="baseline-aligned">
			<p>
			<obs id="mental_health_screening_status" conceptId="165979" defaultValue="1065" answerConceptIds="1065,1066" labelText="Will the patient be screened for mental health?" required="true"  /> 
			</p>
			
			<div id="display_reason_for_not_doing_mental_health_screening">
			<p>
			<obs id="reason_for_not_doing_mental_health_screening" conceptId="165889" defaultValue="1107" answerConceptIds="1107,165859,164189,164453,165886,165860,165861,165888" labelText="Reason for not doing Mental Health Screening?" required="false"  />
			</p>
			</div>
			
			<div id="display_other_reason_for_not_doing_mental_health_screening">
			<p>
			<obs id="other_reason_for_not_doing_mental_health_screening" conceptId="165888"  labelText="If other, specify" maxlength="100" required="false"  /> 
			</p>	
			</div>	

					<div id="display_question_list">
					 <p><obs id="akuads_sleep" conceptId="164555" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you been sleeping less?" required="false"  /></p>
				 
				 
					 <p><obs id="akuads_interest_loss" conceptId="164557" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had lack of interest in your daily activities?" required="false" /></p>
				 
				 
					 <p><obs id="akuads_hobby_interest_loss" conceptId="164560" defaultValue="1090" answerConceptIds="1090,1385,1804,1358"  labelText="Have you lost interest in your hobbies?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_anxious" conceptId="164561" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you been anxious?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_doom_sensation" conceptId="164562" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had a sensation of impending doom?"  required="false" /></p>
				 
				  
					 <p><obs id="akuads_difficulty_thinking" conceptId="164563" defaultValue="1090" answerConceptIds="1090,1385,1804,1358"  labelText="Have you had difficulty in thinking clearly?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_alone" conceptId="164564" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you preferred to be alone?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_unhappy" conceptId="164565" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt unhappy?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_hopeless" conceptId="164566" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt hopeless?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_helpless" conceptId="164567" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt helpless?" required="false"  /></p>
				 
				   
					 <p><obs id="akuads_worried" conceptId="164568" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you been worried?" required="false"  /></p>
				 
				  
					 <p><obs  id="akuads_cried" conceptId="164569" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you cried?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_suicidal" conceptId="164571" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you thought of taking your life?" required="false"  /></p>
				 
					
					 <p><obs id="akuads_appetite_loss" conceptId="164572" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had loss of appetite?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_retrosternal_burning" conceptId="164573" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had retrosternal burning?" required="false"  /></p>
				 
				 
					 <p><obs id="akuads_indigestion" conceptId="164574" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had indigestion?" required="false"  /></p>
				 
				  
					 <p><obs id="akuads_nausea" conceptId="164575" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had nausea?" required="false"  /></p>
				 
				 
					 <p><obs id="akuads_constipation" conceptId="164576" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had constipation?" required="false"  /></p>
				 
				 
					 <p><obs id="akuads_breathing_difficulty" conceptId="164577" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt difficulty in breathing?" required="false"  /></p>
				
				 
					 <p><obs id="akuads_tremulous" conceptId="164578" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt tremulous?"  required="false" /></p>
				
				 
					 <p><obs  id="akuads_numbness" conceptId="164579" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt numbness of hands and feet?" required="false"  /></p>
				
				  
					 <p><obs id="akuads_tension" conceptId="164581" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt a sensation of tension in your neck and shoulders?" required="false"  /></p>
				
				 
					 <p><obs id="akuads_headaches" conceptId="164582" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you had headaches?" required="false"  /></p>
				
				
					 <p><obs id="akuads_body_pain" conceptId="164584" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you felt pain all over your body?"  required="false" /></p>
				
				 
					 <p><obs id="akuads_frequent_urination" conceptId="164585" defaultValue="1090" answerConceptIds="1090,1385,1804,1358" labelText="Have you passed urine more frequently?" required="false"  /></p>
				
				
					 <p><obs id="akuads_score" conceptId="164586"  labelText="AKUADS score" required="false"  /></p>
				
				 
					 <p><obs id="akuads_severity" conceptId="164588" answerConceptIds="1115,1498,1499,1500" labelText="Severity level"  required="false"   /></p>
					</div>				
			
			<div id="display_therapy_consent">
			 <p><obs id="therapy_consent" conceptId="164589" defaultValue = "1065" answerConceptIds="1065,1066" labelText="Does the client agree to therapy?"  required="false" /></p>						
			</div>
			
			<div id="display_therapy_consent_yes">
			 <p><obs id="treatment_facility_counselling_consent" conceptId="165844"   answerConceptIds="1065,1066" labelText="Do you want to be counselled at the treatment facility?" required="false"  /></p>
			 
			 <p><obs id="phone_counselling_consent" conceptId="165841"  answerConceptIds="1099,1098,165590,1107" labelText="Do you want to be counselled on phone?" required="false"  /></p>
			
			 <p>
			 <p id="preferred_location1">
			 Preferred location for Therapy
			 <select id="facility_list">			   
			 </select>
			 <obs id="preferred_location" conceptId="164363" required="false" />
			 </p>
			 </p>
			</div>
			  
			 <div id="display_return_visit_date"> 
			 <p> <obs conceptId="5096" id="return_visit_date" labelText="Next Appointment Date:" allowFutureDates="true" required="false"/></p>
			</div>
			
			<div id="time_taken_div">
			<p> 
			Time taken to fill form
			<br/>
			<obs id="time_taken" conceptId="165044" />
			</p>
			</div>
			
			 </table>
		   </section>
		   <submit/>
		<script type="text/javascript">
		var startDate = new Date();	
	
	    var reason_for_not_doing_mental_health_screening = jQuery("#display_reason_for_not_doing_mental_health_screening");
		var other_reason_for_not_doing_mental_health_screening = jQuery("#display_other_reason_for_not_doing_mental_health_screening");
		var return_visit_date= jQuery("#display_return_visit_date"); 
		
	    var question_list = jQuery("#display_question_list");
		var therapy_consent = jQuery("#display_therapy_consent");
		var therapy_consent_yes= jQuery("#display_therapy_consent_yes"); 		  

 
jQuery( document ).ready(function() {

		var timeTakenDiv = jQuery("#time_taken_div");
		timeTakenDiv.hide();
		
		///////////////////////
		getField("akuads_score.value").prop("disabled", true);
		getField("akuads_severity.value").prop("disabled", true);
		getField("preferred_location.value").prop("disabled", true);
		
		 
		<ifMode mode='VIEW' include="false"> 
		
		doRest();
	  							 		
		if(getValue('mental_health_screening_status.value') == 1065 ){
			reason_for_not_doing_mental_health_screening.hide();
			question_list.show();
			//set foolowup month acc to calculation
			getCalculatedScore();
		}
		else if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107  ){
			question_list.show();
			//set foolowup month acc to calculation
			getCalculatedScore();
		}
		else if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') != 1107 ){
			reason_for_not_doing_mental_health_screening.show();
			question_list.hide();
		}
		else{
			reason_for_not_doing_mental_health_screening.hide();
			question_list.hide();
		}	
		 
		if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp;  getValue('reason_for_not_doing_mental_health_screening.value') == 165888 ){
			other_reason_for_not_doing_mental_health_screening.show();
		}
		else{
			other_reason_for_not_doing_mental_health_screening.hide();				
		} 
		
		if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp;  getValue('reason_for_not_doing_mental_health_screening.value') == 164453 ){
			return_visit_date.show(); 
		}
		else{
			return_visit_date.hide();				
		} 
		
		//if status yes and akudscore gt 20 or reason none and akudscore gt 20
		if( ( getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20) ||
			( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20			) 
		  ){
			therapy_consent.show(); 
		}
		else{
			therapy_consent.hide();				
		} 	
		//if status yes and akudscore gt 20 and therpay yes or reason none and akudscore gt 20 and therpay yes 
		if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20 
			&amp;&amp;   getValue('therapy_consent.value') == 1065)
			|| ( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20 &amp;&amp;   getValue('therapy_consent.value') == 1065			) 
			){
			therapy_consent_yes.show(); 
		}
		else{
			therapy_consent_yes.hide();				
		} 			
		
		 
		</ifMode>
		
		});

function clearQuestions(){	

	setValue('akuads_sleep.value', '')
	setValue('akuads_interest_loss.value', '');
	setValue('akuads_hobby_interest_loss.value', '');
	setValue('akuads_anxious.value', '');
	setValue('akuads_doom_sensation.value', '');
	setValue('akuads_difficulty_thinking.value', '');
	setValue('akuads_alone.value', '');
	setValue('akuads_unhappy.value', '');
	setValue('akuads_hopeless.value', '');
	setValue('akuads_helpless.value', '');
	setValue('akuads_worried.value', '');
	setValue('akuads_cried.value', '');
	setValue('akuads_suicidal.value', '');
	setValue('akuads_appetite_loss.value', '');
	setValue('akuads_retrosternal_burning.value', '');
	setValue('akuads_indigestion.value', '');
	setValue('akuads_nausea.value', '');
	setValue('akuads_constipation.value', '');
	setValue('akuads_breathing_difficulty.value', '');
	setValue('akuads_tremulous.value', '');
	setValue('akuads_numbness.value', '');
	setValue('akuads_tension.value', '');
	setValue('akuads_headaches.value', '');
	setValue('akuads_body_pain.value', '');
	setValue('akuads_frequent_urination.value', '');
	setValue('akuads_score.value', '');
	setValue('akuads_severity.value', '');
}

function getCalculatedScore() {
var score = 	 getScoreValue( getField("akuads_interest_loss.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_hobby_interest_loss.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_sleep.value").children('option:selected').index()  ) + 
				 getScoreValue( getField("akuads_anxious.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_doom_sensation.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_difficulty_thinking.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_alone.value").children('option:selected').index()  ) + 
				 getScoreValue( getField("akuads_unhappy.value").children('option:selected').index()  ) + 
				 getScoreValue( getField("akuads_hopeless.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_helpless.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_worried.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_cried.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_suicidal.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_appetite_loss.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_retrosternal_burning.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_indigestion.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_nausea.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_constipation.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_breathing_difficulty.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_tremulous.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_numbness.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_tension.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_headaches.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_body_pain.value").children('option:selected').index()  ) +
				 getScoreValue( getField("akuads_frequent_urination.value").children('option:selected').index()  )   ; 



	if(score &lt; 0) {
	   score = 0;
	}
	
	if(score &gt;= 0 &amp;&amp; score &lt; 21)  {
		getField("akuads_severity.value").prop('selectedIndex', 1);
	}
	else if(score &gt; 20 &amp;&amp; score  &lt; 41) {
		getField("akuads_severity.value").prop('selectedIndex', 2);
	}
	else if(score &gt; 40 &amp;&amp; score  &lt; 61) {
		getField("akuads_severity.value").prop('selectedIndex', 3);
	}
	else if(score &gt; 60 &amp;&amp; score  &lt; 76) {
		getField("akuads_severity.value").prop('selectedIndex', 4);
	}
	else{
		getField("akuads_severity.value").prop('selectedIndex', 0);
	}
	console.log(score); 
	setValue('akuads_score.value',score);
	getField('akuads_score.value').change();
	return score;
}

function getScoreValue(value){
	value = value &lt; 2 ? 0 : (value-1);
	return value;
}

function doRest(){
			jQuery.ajax({
				url: "/openmrs/ws/rest/v1/location?v=custom:(uuid,display,name,description)&amp;tag=PMDT",
				dataType: 'json'
				}).done(function(data ) {
					console.log(data.results[0].name);
					console.log(data.results.length);
					locationData = data;
					populate(data);
			});
}
		
	function populate(data) {
							
		var s= document.getElementById('facility_list');
		
		for (i = 0; i &lt; data.results.length; i++) { 
			s.options[i+1]= new Option(data.results[i].description, data.results[i].name);                      
			var resultObject =  JSON.parse(JSON.stringify(data.results[i].description || null));
		}
}


function isFutureDate() {
	var visitDate =getValue('return_visit_date.value');
    d_now = new Date();
    d_inp = new Date(visitDate)
    return d_now.getTime() &lt;= d_inp.getTime();
}
			

jQuery(function() {

		getField('mental_health_screening_status.value').change(function() {
			
			if(getValue('mental_health_screening_status.value') == 1065 ){
				getCalculatedScore();
				question_list.show();
				setValue('reason_for_not_doing_mental_health_screening.value', ""); 
				reason_for_not_doing_mental_health_screening.hide();
			}
			else if(getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107){
				getCalculatedScore();
				question_list.show();
				reason_for_not_doing_mental_health_screening.show();
			}
			else if(getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') != 1107 ){			
				reason_for_not_doing_mental_health_screening.show();		
				clearQuestions();
				question_list.hide();				
			}
			else{
				setValue('reason_for_not_doing_mental_health_screening.value', ""); 
				reason_for_not_doing_mental_health_screening.hide();
				clearQuestions();
				question_list.hide();	
			}
			//update fields accordingly
			getField('reason_for_not_doing_mental_health_screening.value').change();		
			getField('akuads_score.value').change();			
		}); 
		
		getField('reason_for_not_doing_mental_health_screening.value').change(function() {
			
			if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 165888 ){
				other_reason_for_not_doing_mental_health_screening.show();
			}
			else{ 
				setValue('other_reason_for_not_doing_mental_health_screening.value', ""); 
				other_reason_for_not_doing_mental_health_screening.hide();				
			}
			
			if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 164453 ){
				return_visit_date.show();
			}
			else{ 
				setValue('return_visit_date.value', "");
				return_visit_date.hide();				
			}
			
			if( (getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107) ||
				(getValue('mental_health_screening_status.value') == 1065) ){
				getCalculatedScore();
				question_list.show();
				//update fields accordingly	
				getField('akuads_score.value').change();
			}
			else{
				clearQuestions();
				question_list.hide();		
				//update fields accordingly				
				getField('akuads_score.value').change();
			}
			
				
		});
		
		/////////// score calculation change
		getField("akuads_sleep.value").change(function() {getCalculatedScore();});
		getField("akuads_interest_loss.value").change(function() { getCalculatedScore();});
		getField("akuads_hobby_interest_loss.value").change(function() {getCalculatedScore();}); 
		getField("akuads_anxious.value").change(function() { getCalculatedScore();}); 
		getField("akuads_doom_sensation.value").change(function() { getCalculatedScore();}); 
		getField("akuads_difficulty_thinking.value").change(function() { getCalculatedScore();}); 
		getField("akuads_alone.value").change(function() { getCalculatedScore();});  
		getField("akuads_unhappy.value").change(function() { getCalculatedScore();});  
		getField("akuads_hopeless.value").change(function() { getCalculatedScore();}); 
		getField("akuads_helpless.value").change(function() { getCalculatedScore();}); 
		getField("akuads_worried.value").change(function() { getCalculatedScore();}); 
		getField("akuads_cried.value").change(function() { getCalculatedScore();}); 
		getField("akuads_suicidal.value").change(function() { getCalculatedScore();}); 
		getField("akuads_appetite_loss.value").change(function() { getCalculatedScore();}); 
		getField("akuads_retrosternal_burning.value").change(function() { getCalculatedScore();}); 
		getField("akuads_indigestion.value").change(function() { getCalculatedScore();}); 
		getField("akuads_nausea.value").change(function() { getCalculatedScore();}); 
		getField("akuads_constipation.value").change(function() { getCalculatedScore();}); 
		getField("akuads_breathing_difficulty.value").change(function() { getCalculatedScore();}); 
		getField("akuads_tremulous.value").change(function() { getCalculatedScore();}); 
		getField("akuads_numbness.value").change(function() { getCalculatedScore();}); 
		getField("akuads_tension.value").change(function() { getCalculatedScore();}); 
		getField("akuads_headaches.value").change(function() { getCalculatedScore();}); 
		getField("akuads_body_pain.value").change(function() { getCalculatedScore();}); 
		getField("akuads_frequent_urination.value").change(function() { getCalculatedScore();});
		
		getField('akuads_score.value').change(function() {
		
			if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20 ) ||
			( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20			)
			){
				therapy_consent.show(); 
			}
			else{
				setValue('therapy_consent.value', ""); 
				therapy_consent.hide();				
			} 
			//update fields accordingly
			getField('therapy_consent.value').change();
		});
		
		/////////////////////////
		
		getField('therapy_consent.value').change(function() { 	

			if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20 
				&amp;&amp;   getValue('therapy_consent.value') == 1065 ) ||
				 ( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20 &amp;&amp;   getValue('therapy_consent.value') == 1065			) 
				){
				therapy_consent_yes.show(); 
			}
			else{
				setValue('treatment_facility_counselling_consent.value', "");
				setValue('phone_counselling_consent.value', "");
				setValue('preferred_location.value', "");
				jQuery("#facility_list").val('');				
				therapy_consent_yes.hide();				
			} 
		});
		 
		jQuery("#facility_list").change(function() {
		  setValue('preferred_location.value',jQuery("#facility_list").val());  
		});
		

});


		
beforeSubmit.push(function() {
 
	setValue('reason_for_not_doing_mental_health_screening.error','');
	setValue('other_reason_for_not_doing_mental_health_screening.error','');
	setValue('return_visit_date.error','');
	setValue('therapy_consent.error','');
	setValue('treatment_facility_counselling_consent.error','');
	setValue('phone_counselling_consent.error','');
	setValue('preferred_location.error','');
	  

	var valid=true;
	
	if( (getValue('mental_health_screening_status.value') == 1065) ||
		(getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107)
	){
		valid=validateQuestionsList();
	}
	
	if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20
		&amp;&amp;   getValue('therapy_consent.value') == '' ) ||
			( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20	&amp;&amp;   getValue('therapy_consent.value') == '')
		){
		getField('therapy_consent.error').html('Please select a value.').show();
		valid=false;		
	}
	else{
		getField('therapy_consent.error').html('').hide();
	}	

	  
	if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20 
		&amp;&amp;   getValue('therapy_consent.value') == 1065 &amp;&amp;   getValue('treatment_facility_counselling_consent.value') == '') ||
		( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20 &amp;&amp;   getValue('therapy_consent.value') == 1065 &amp;&amp;   getValue('treatment_facility_counselling_consent.value') == '')
		){
		getField('treatment_facility_counselling_consent.error').html('Please select a value.').show();
		valid=false;		
	}
	else{
		getField('treatment_facility_counselling_consent.error').html('').hide();
	}
	
	if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20 
		&amp;&amp;   getValue('therapy_consent.value') == 1065 &amp;&amp;   getValue('phone_counselling_consent.value') == '') ||
		( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20 &amp;&amp;   getValue('therapy_consent.value') == 1065 &amp;&amp;   getValue('phone_counselling_consent.value') == '')
		){
		getField('phone_counselling_consent.error').html('Please select a value.').show();
		valid=false;		
	}
	else{
		getField('phone_counselling_consent.error').html('').hide();
	}

	if( (getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20 
		&amp;&amp;   getValue('therapy_consent.value') == 1065 &amp;&amp;   getValue('preferred_location.value') == '' ) ||
		( getValue('mental_health_screening_status.value') == 1066 &amp;&amp; getValue('reason_for_not_doing_mental_health_screening.value') == 1107 
			  &amp;&amp;   getValue('akuads_score.value') &gt; 20 &amp;&amp;   getValue('therapy_consent.value') == 1065 &amp;&amp;   getValue('preferred_location.value') == '')
		){
		getField('preferred_location.error').html('Please select a Location.').show();
		valid=false;		
	}
	else{
		getField('preferred_location.error').html('').hide();
	}	
	
	/////////////////////////////////////////////////////
	
	if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp;  getValue('reason_for_not_doing_mental_health_screening.value') == '' ){
		getField('reason_for_not_doing_mental_health_screening.error').html('Please select a value.').show();
		valid=false;		
	}
	else{
		getField('reason_for_not_doing_mental_health_screening.error').html('').hide();
	}
	
	if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp;  getValue('reason_for_not_doing_mental_health_screening.value') == 165888
		&amp;&amp; getValue('other_reason_for_not_doing_mental_health_screening.value') == '' ){
		
		getField('other_reason_for_not_doing_mental_health_screening.error').html('Please input a value.').show();
		valid=false;		
	}
	else{
		getField('other_reason_for_not_doing_mental_health_screening.error').html('').hide();
	}
	
	if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp;  getValue('reason_for_not_doing_mental_health_screening.value') == 164453
		&amp;&amp; getValue('return_visit_date.value') == '' ){
		
		getField('return_visit_date.error').html('Please select a date.').show();
		valid=false;		
	}
	else if( getValue('mental_health_screening_status.value') == 1066 &amp;&amp;  getValue('reason_for_not_doing_mental_health_screening.value') == 164453
		&amp;&amp; getValue('return_visit_date.value') != '' &amp;&amp; !isFutureDate()){
		getField('return_visit_date.error').html('Please select a future date.').show();
		valid=false;
	}
	else{
		getField('return_visit_date.error').html('').hide();
	}
	
	//remove default value
	if( getValue('mental_health_screening_status.value') == 1065)
	{
		setValue('reason_for_not_doing_mental_health_screening.value','');
	}
	
	/////////////////////////////////////////////////////////////////////////
	
	
	if(valid==true){
	
		getField("akuads_score.value").prop("disabled", false);
		getField("akuads_severity.value").prop("disabled", false);
		getField("preferred_location.value").prop("disabled", false);
		
		if( getValue('mental_health_screening_status.value') == 1065 &amp;&amp; getValue('akuads_severity.value') == 1115  ){
			alert('Kindly give the comorbdities conditions brochure to the patient.');
		}
		
		if( getValue('mental_health_screening_status.value') == 1065 &amp;&amp;   getValue('akuads_score.value') &gt; 20
			&amp;&amp;   getValue('therapy_consent.value') == 1066  ){
			alert('Kindly give the comorbdities conditions brochure to the patient.');	
		}

		var timeTakenDiv = $j("#time_taken_div");
		
		var endDate = new Date();
		var timeDiff = Math.abs(endDate.getTime() - startDate.getTime());
		var diffSec = timeDiff/1000;
		
		timeTakenDiv.show();
		setValue("time_taken.value",diffSec);
		timeTakenDiv.hide();
	
		return true;
}
	return false;
});

function validateQuestionsList(){

		setValue("akuads_interest_loss.error",''); 
		setValue("akuads_hobby_interest_loss.error",'');  
		setValue("akuads_anxious.error",'');  
		setValue("akuads_doom_sensation.error",'');  
		setValue("akuads_difficulty_thinking.error",'');  
		setValue("akuads_alone.error",'');   
		setValue("akuads_unhappy.error",'');   
		setValue("akuads_hopeless.error",'');  
		setValue("akuads_helpless.error",'');  
		setValue("akuads_worried.error",'');  
		setValue("akuads_cried.error",'');  
		setValue("akuads_suicidal.error",'');  
		setValue("akuads_appetite_loss.error",'');  
		setValue("akuads_retrosternal_burning.error",'');  
		setValue("akuads_indigestion.error",'');  
		setValue("akuads_nausea.error",'');  
		setValue("akuads_constipation.error",'');  
		setValue("akuads_breathing_difficulty.error",'');  
		setValue("akuads_tremulous.error",'');  
		setValue("akuads_numbness.error",'');  
		setValue("akuads_tension.error",'');  
		setValue("akuads_headaches.error",'');  
		setValue("akuads_body_pain.error",'');  
		setValue("akuads_frequent_urination.error",''); 
		
		var valid=true;

		if ( getValue("akuads_sleep.value") == '' )
		{
			getField('akuads_sleep.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_sleep.error').html('').hide();
		}
		
		if ( getValue("akuads_interest_loss.value") == '' )
		{
			getField('akuads_interest_loss.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_interest_loss.error').html('').hide();
		}
		
		if ( getValue("akuads_hobby_interest_loss.value") == '' )
		{
			getField('akuads_hobby_interest_loss.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_hobby_interest_loss.error').html('').hide();
		}
		
		if ( getValue("akuads_anxious.value") == '' )
		{
			getField('akuads_anxious.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_anxious.error').html('').hide();
		}
		
		if ( getValue("akuads_doom_sensation.value") == '' )
		{
			getField('akuads_doom_sensation.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_doom_sensation.error').html('').hide();
		}
		
		if ( getValue("akuads_difficulty_thinking.value") == '' )
		{
			getField('akuads_difficulty_thinking.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_difficulty_thinking.error').html('').hide();
		}
		
		if ( getValue("akuads_alone.value") == '' )
		{
			getField('akuads_alone.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_alone.error').html('').hide();
		}
		
		if ( getValue("akuads_unhappy.value") == '' )
		{
			getField('akuads_unhappy.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_unhappy.error').html('').hide();
		}
		
		if ( getValue("akuads_hopeless.value") == '' )
		{
			getField('akuads_hopeless.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_hopeless.error').html('').hide();
		}
		
		if ( getValue("akuads_helpless.value") == '' )
		{
			getField('akuads_helpless.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_helpless.error').html('').hide();
		}
		
		if ( getValue("akuads_worried.value") == '' )
		{
			getField('akuads_worried.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_worried.error').html('').hide();
		}
		
		if ( getValue("akuads_cried.value") == '' )
		{
			getField('akuads_cried.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_cried.error').html('').hide();
		}
		
		if ( getValue("akuads_suicidal.value") == '' )
		{
			getField('akuads_suicidal.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_suicidal.error').html('').hide();
		}
		
		if ( getValue("akuads_appetite_loss.value") == '' )
		{
			getField('akuads_appetite_loss.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_appetite_loss.error').html('').hide();
		}
		
		if ( getValue("akuads_retrosternal_burning.value") == '' )
		{
			getField('akuads_retrosternal_burning.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_retrosternal_burning.error').html('').hide();
		}
		
		if ( getValue("akuads_indigestion.value") == '' )
		{
			getField('akuads_indigestion.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_indigestion.error').html('').hide();
		}
		
		if ( getValue("akuads_nausea.value") == '' )
		{
			getField('akuads_nausea.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_nausea.error').html('').hide();
		}
		
		if ( getValue("akuads_constipation.value") == '' )
		{
			getField('akuads_constipation.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_constipation.error').html('').hide();
		}
		
		if ( getValue("akuads_breathing_difficulty.value") == '' )
		{
			getField('akuads_breathing_difficulty.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_breathing_difficulty.error').html('').hide();
		}
		
		if ( getValue("akuads_tremulous.value") == '' )
		{
			getField('akuads_tremulous.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_tremulous.error').html('').hide();
		}
		
		if ( getValue("akuads_numbness.value") == '' )
		{
			getField('akuads_numbness.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_numbness.error').html('').hide();
		}
		
		if ( getValue("akuads_tension.value") == '' )
		{
			getField('akuads_tension.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_tension.error').html('').hide();
		}
		
		if ( getValue("akuads_headaches.value") == '' )
		{
			getField('akuads_headaches.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_headaches.error').html('').hide();
		}
		
		if ( getValue("akuads_body_pain.value") == '' )
		{
			getField('akuads_body_pain.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_body_pain.error').html('').hide();
		}
		
		if ( getValue("akuads_frequent_urination.value") == '' )
		{
			getField('akuads_frequent_urination.error').html('Please select a value.').show();
			valid=false;		
		}
		else{
			getField('akuads_frequent_urination.error').html('').hide();
		}
		
		return valid;
}
		
</script>	   
</htmlform>