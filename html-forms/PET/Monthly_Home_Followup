<htmlform>
	<!-- Autogenerated example form  (template from 01-Nov-2010 -->
	<macros>
		paperFormId = (Fill this in)
		headerColor =#009d8e
		fontOnHeaderColor = white
	</macros>

	<style>
		.section {
			border: 1px solid $headerColor;
			padding: 2px;
			text-align: left;
			margin-bottom: 1em;
		}
		.sectionHeader {
			background-color: $headerColor;
			color: $fontOnHeaderColor;
			display: block;
			padding: 2px;
			font-weight: bold;
		}
		table.baseline-aligned td {
			vertical-align: baseline;
		}
	</style>

	<span style="float:right">Paper Form ID: $paperFormId</span>
	<h2>PET-Monthly Home Follow-up (v0.2.0-beta)</h2>

	<section headerLabel="1. Encounter Details">
		<table class="baseline-aligned">
			<tr>
				<td>Date:</td>
				<td><encounterDate default="today"/></td>
			</tr>
			<tr>
				<td>Location:</td>
				<td><encounterLocation default="1"/></td>
			</tr>
			<tr>
				<td>Provider:</td>
				<td><encounterProvider default="currentUser" type="autocomplete"/></td>
			</tr>
		</table>
	</section>

	<section headerLabel="2. TB Symptoms Information ">
		<div>
		<p>
			Does contact have cough?
			<br/>
			<obs conceptId="143264" id="cough" required="true">
                      <controls>
                        <when value="1065" thenDisplay="#cough_yes"/>
                     </controls>
				</obs>
		</p>
		
	<div id="cough_yes">
		<p>
			Cough duration *
			<br/>
			<obs conceptId="5959" id="cough_duration" answerConceptIds="163739,159799,1487,1067,164106" answerLabels="Less than 2 weeks,2 to 3 weeks,More than 3 weeks,Don't Know,Refused" />
		</p>

		
		<p>
			Haemoptysis
			<br/>
			<obs conceptId="138905" id="haemoptysis" />
		</p>
	</div>
		<p>
			Does contact have fever?
			<br/>
			<obs conceptId="140238" id="fever" required="true"/>
		</p>
		
		
		<p>
			Does contact have weight loss or failure to thrive?
			<br/>
			<obs conceptId="832" id="weight_loss" required="true"/>
		</p>
		
		
		<p>
			Reduced appetite
			<br/>
			<obs conceptId="135595" id="reduced_appetite" required="true" />
		</p>
		
		<p>
			Does contact have reduced activity?
			<br/>
			<obs conceptId="152313" id="reduced_activity" required="true" />
		</p>
		
		<p>
			Does contact have night sweats?
			<br/>
			<obs conceptId="133027" id="night_sweats" required="true" />
		</p>
		
		
		<p>
			Does the contact have glandular swelling anywhere in body?
			<br/>
			<obs conceptId="163894" id="swelling" required="true" />
		</p>
		
		
		<p>
			How many days worth of medication was missed in the past month?
			<br/>
			<obs conceptId="162878" id="missed_dose" required="true"  />
		</p>
		
		<p>
			Are there any adverse events?
			<br/>
			<obs conceptId="164296" id="adverse_events_reported" answerConceptIds="1065,1066" required="true" >
			  <controls>
                        <when value="1065" thenDisplay="#adverse_yes"/>
                     </controls>
				</obs>
		</p>
	<div id="adverse_yes">
		<p>
			Adverse effects
			<br/>
			<obsgroup groupingConceptId="164249">
			<obs conceptId="164295" answerConceptId="80" answerLabel="Joint pain" style="checkbox" />
			<br/>
			<obs conceptId="164295" answerConceptId="139084" answerLabel="Headache" style="checkbox" />
			<br/>
			<obs conceptId="164295" answerConceptId="512" answerLabel="Skin rash" style="checkbox" />
			<br/>	
			<obs conceptId="164295" answerConceptId="5978" answerLabel="Nausea" style="checkbox" />
			<br/>
			<obs conceptId="164295" answerConceptId="141830" answerLabel="Dizziness" style="checkbox" />
			<br/>
			<obs conceptId="164295" answerConceptId="122983" answerLabel="Vomiting" style="checkbox" />
			<br/>		
			<obs conceptId="164295" answerConceptId="151" answerLabel="Abdominal Pain" style="checkbox" />
			<br/>
			<obs conceptId="164295" answerConceptId="135595" answerLabel="Loss of appetite" style="checkbox" />
			<br/>
			<obs conceptId="164295" answerConceptId="159298" answerLabel="Visual impairment" style="checkbox" />
			<br/>	
			<obs conceptId="164295" answerConceptId="164294" answerLabel="Others" style="checkbox" />
		</obsgroup>
		</p>

	
		<p>
			Others
			<br/>
			<obs conceptId="164294" id="other_adverse_event" maxlength="100" />
		</p>
	</div>
		
		<p>
			Has the clinician been informed?
			<br/>
			<obs conceptId="164297" id="clinician_informed" required="true" />
		</p>
		
		<p>
			Has the clinician asked for a clinical visit of the contact?
			<br/>
			<obs conceptId="164298" id="visit_suggested" required="true" >
                     <controls>
                        <when value="1065" thenDisplay="#visited_yes"/>
                     </controls>
				</obs>
		</p>
		
		
		<p id="visited_yes">
			Has the contact been referred to the clinician? *
			<br/>
			<obs conceptId="1648" id="clincical_referral" answerConceptIds="1065,1066" />
		</p>
		
           
		</div>
	</section>

	<submit/>


    <script type="text/javascript">
 var startDate = new Date();
   beforeSubmit.push(function() {
                var error1=true,error2=true,error3=true;
                setValue('cough_duration.error', '');
                setValue('haemoptysis.error','');
				setValue('clincical_referral.error','');
				

		if(getValue('cough.value')==1065 &amp;&amp; getValue('cough_duration.value')==''){
                      getField('cough_duration.error').html('This field can not be null').show();
                           error1=false;
                 }
                else{
                          getField('cough_duration.error').html('').hide();
                           error1=true;
                 }
                  if(getValue('cough.value')==1065 &amp;&amp; getValue('haemoptysis.value')==''){
                      getField('haemoptysis.error').html('This field can not be null').show();
                           error2=false;
                 }
                else{
                          getField('haemoptysis.error').html('').hide();
                           error2=true;
                 }
				if(getValue('visit_suggested.value')==1065 &amp;&amp; getValue('clincical_referral.value')==''){
                      getField('clincical_referral.error').html('This field can not be null').show();
                           error3=false;
                 }
                else{
                          getField('clincical_referral.error').html('').hide();
                           error3=true;
                 }
                 if(error1==false|| error2==false || error3==false){
                        return false;
	            }
                else{
					var endDate = new Date();
					var timeDiff = Math.abs(endDate.getTime() - startDate.getTime());
					var diffSec = timeDiff/1000;
					alert(diffSec + " seconds to fill form");
                    return true;
             
                 }
});

</script>

<!-- END OF FORM

Simple examples to copy-and-paste. Full reference at http://wiki.openmrs.org/x/kg8z

SECTION
	<section headerLabel="\#. Title">
		Content
	</section>

NUMERIC OBSERVATION
	<obs conceptId="id-of-numeric-concept" labelText="Label before"/>

DATE OBSERVATION
	<obs conceptId="id-of-date-concept" labelText="Label before"/>

CODED OBSERVATION
(as a dropdown)
	<obs conceptId="id-of-coded-concept" labelText="Label before"/>
(as radio buttons)
	<obs conceptId="id-of-coded-concept" labelText="Label before" style="radio"/>
(as an autocomplete)
	<obs conceptId="id-of-coded-concept" labelText="Label before" style="autocomplete" answerClasses="Diagnosis"/>
(as a checkbox for a specific answer)
	<obs conceptId="id-of-coded-concept" labelText="Label before" answerConceptId="id-of-answer-concept" answerLabel="label for answer"/>
(as a dropdown with specific choices)
	<obs conceptId="id-of-coded-concept" labelText="Label before" answerConceptIds="concept-id-1,concept-id-2,concept-id-3" answerLabels="Label 1,Label 2, Label 3"/>


FREE TEXT OBSERVATION
(as a normal text field)
	<obs conceptId="id-of-text-concept" labelText="Label before"/>
(as a textarea)
	<obs conceptId="id-of-text-concept" labelText="Label before" rows="4" cols="80"/>
-->
</htmlform>